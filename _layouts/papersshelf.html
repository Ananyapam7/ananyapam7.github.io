---
layout: default
---
<div class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-description">{{ page.description }}</p>
  </header>

  <article>
    {{ content }}
  </article>

  <div id="chart"></div>

  {%- if page.related_publications != null and page.related_publications.size > 0 -%}
  {% assign publications = page.related_publications | replace: ", ", "," | split: "," | join: "|" %}
  <h2>References</h2>
  <div class="publications">
    {% bibliography -f {{ site.scholar.bibliography }} -q @*[key^={{ publications }}]* %}
  </div>
  {%- endif %}

  {%- if site.giscus and page.giscus_comments -%}
    {% include giscus.html %}
  {%- endif %}

</div>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
  const width = 960;
  const height = 600;
  const margin = 50;

  const svg = d3.select("#chart")
    .append("svg")
    .attr("width", width)
    .attr("height", height)
    .style("background-color", "#f9f9f9");

  const tooltip = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0)
    .style("background-color", "white")
    .style("border", "1px solid #ddd")
    .style("padding", "10px")
    .style("box-shadow", "0px 0px 10px rgba(0, 0, 0, 0.1)");

  const colorScale = d3.scaleOrdinal()
    .domain(["math", "statistics", "machine_learning", "finance"])
    .range(["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728"]);

  const simulation = d3.forceSimulation(papers)
    .force("x", d3.forceX(d => margin + (d.math / 100) * (width - 2 * margin)).strength(0.1))
    .force("y", d3.forceY(d => margin + (d.finance / 100) * (height - 2 * margin)).strength(0.1))
    .force("collide", d3.forceCollide(30))
    .on("tick", ticked);

  function ticked() {
    const u = svg.selectAll("g")
      .data(papers)
      .join("g")
      .attr("class", "node")
      .attr("transform", d => `translate(${d.x},${d.y})`)
      .on("mouseover", function(event, d) {
        tooltip.transition()
          .duration(200)
          .style("opacity", .9);
        tooltip.html(`<strong>${d.title}</strong><br>${d.author}<br>${d.year}<br>${d.abstract}`)
          .style("left", (event.pageX) + "px")
          .style("top", (event.pageY - 28) + "px");
      })
      .on("mouseout", function(d) {
        tooltip.transition()
          .duration(500)
          .style("opacity", 0);
      })
      .on("click", function(event, d) {
        window.open(d.link, "_blank");
      });

    u.append("circle")
      .attr("r", 10)
      .attr("fill", d => {
        if (d.math > 50) return colorScale("math");
        if (d.statistics > 50) return colorScale("statistics");
        if (d.machine_learning > 50) return colorScale("machine_learning");
        if (d.finance > 50) return colorScale("finance");
        return "lightgrey";
      });

    u.append("text")
      .attr("dy", -12)
      .attr("text-anchor", "middle")
      .attr("font-size", "10px")
      .attr("fill", "black")
      .text(d => d.title);
  }

  simulation.on("tick", ticked);
</script>